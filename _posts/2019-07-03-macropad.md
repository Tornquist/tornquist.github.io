---
layout: post
title: "MacroPad"
date: 2019-07-03 11:30:00
categories: programming
custom_css:
- colorbox
- youtube_embed
custom_js:
- photoset-grid
- colorbox
---

A few months back I saw the [RoMac](https://www.reddit.com/r/MechanicalKeyboards/comments/b74x8n/ic_the_romac_a_plaid_inspired_12key_macropad/)
and [Plaid](https://github.com/hsgw/plaid) (resp) keyboards on Reddit.

{% include /galleries/2019-07-03-macropad-reference.html %}

I'm a big fan of the exposed design and I've been missing a numberpad on my
S65-X. Due to a misunderstanding I missed the ordering window and took that as a
sign that I should just go ahead and design my own!

I started with the following requirements for my macropad:

* Perfectly square
* All mounted components (no breadboards)
* 12 keys

With a 12 key (4x3 layout), that meant that I could to a perfectly square board
at just the width of the 4 keys. Each key requires a footprint of about 19mm, so
my target size was 76mm x 76mm. That particular size also has the nice added
benefit of fitting within the Eagle free tier and the JLCPCB $2 prototype limits.

I started with a QFN ATMEGA32 and designed a circuit around that. It was obvious
very quickly that I'd have to use surface mount components. I didn't have nearly
the amount of space that the plaid has along the top of the board.

The r/PCB community on Reddit was extremely helpful in verifying early versions
of the design. I should have asked about how reasonable it would be to actually
solder the design, but it didn't cross my mind.

When the boards came, I had a chip that required soldering a connection on the back,
and some metric 0603 diodes that I couldn't see with a magnifying lens.

[PICTURES OF CHIPS]

It took me 3 tries to get to the PCB layout that I wanted. I increased a lot of
the component sizes, all focusing around a change in the chip from a QFN to TQFP
package.

When the circuit was correct, I was able to plug it in and see the USB device show
up! That was an exciting moment. From there, it was just configuring QMK and
everything fell into place very quickly.

The board matches my full keyboard and is exactly what I designed it to be. This
project was very different from my normal work, but was really rewarding. There's
something fun about ending up with a physical device.

All in however, I wouldn't recommend my macropad to anyone. It looks like I want,
but it turns out that a single PCB really isn't enough weight to keep something in
place on my desk. The board slides all over the place!
